# Sheeps



#### 关于Sheeps

此系统是通用于TCP和UDP服务器的压力测试框架，基于数据包的录制和回放，集成时间控制、快进、暂停功能，初始是为了完成对游戏服务器的压力测试，探知游戏服务器所能承载的最大在线人数，经历多次迭代，最终演化成型，并命名为Sheeps。

[了解更多详细信息，点击此处阅读WIKI](https://gitee.com/lutianming/Sheeps/wikis/%E5%85%B3%E4%BA%8ESheeps?sort_id=2798059/)

#### 下载二进制文件
[点击此处进入下载页](https://gitee.com/lutianming/Sheeps/releases)

#### 使用预览

![输入图片说明](https://images.gitee.com/uploads/images/2021/0516/174654_4447df60_1564139.png "屏幕截图.png")
![输入图片说明](https://images.gitee.com/uploads/images/2021/0516/174911_be63afe7_1564139.png "屏幕截图.png")

完成了项目接入，如何进行压力测试呢？总共分为两步；一，录制；二，回放。

__一、录制__

1.启动控制端程序，程序会自动启动socks5代理服务，端口为1080；  
2.启动需要录制网络消息的项目客户端，并设置为通过代理连接（Android系统推荐使用ProxyDroid，windows系统推荐使用proxifer），连接IP为控制端运行机器的IP地址，端口为1080，代理类型为socks5，确认代理设置完成后，关闭需要录制的项目客户端程序，准备工作就绪。  
3.本机访问http://127.0.0.1:1080/，在录制管理点击“开启”按钮，此时按钮文字变为“关闭”  
4.启动需要录制的项目客户端，进行正常的使用操作，需要录制的操作都完成后，关闭该项目客户端，  
5.在控制端程序窗口点击“关闭录制”，请注意按钮旁的剩余数字，显示0说明所有消息均已保存入库，目标文件data.db  
6.点击“展开数据表”查看录制的所有网络连接，确认所需要录制的网络连接存在列表中  

__二、回放__

1.本机访问http://127.0.0.1:1080/，点击任务管理  
2.填写任务配置信息，需要压测用户的总数，单次数量，时间间隔，选择需要回放的文件，以及连接，循环模式可以选择循环或者不循环，如果不希望用户因为意外错误而自毁，可以勾选“忽略错误”  
3.配置完成后，点击“添加任务”，此时在“任务列表”中可以刚刚配置的回放任务  
4.确定负载端启动运行，并连接成功  
5.在任务列表中点击开始，压测开始进行，可以在日志目录中查看压测过程是否正常  
6.如要停止回放，在任务列表中点击停止即可  


#### 代码引用说明

1.本系统使用了基于MIT授权的cjson库：https://sourceforge.net/projects/cjson/  
2.本系统使用了基于MIT授权的SQLite的C语言库：https://www.sqlite.org/index.html  
3.本系统使用了基于MIT授权的jQuery库：https://jquery.com/  
4.本系统使用以前项目积累的sha1和md5算法源码，时间久远已记不清出处  
5.感谢以上开源代码或项目，如有侵犯版权，请与我联系  



